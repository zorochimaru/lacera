<aside class="filters-container">
  <h2>Filters</h2>
  <div class="form-container">
    <label for="date-filter">Start date</label>
    <input
      type="date"
      id="date-filter"
      class="form-control"
      [value]="startDate"
      [max]="maxDate"
      (change)="setDateFilters($event, 'start')" />
  </div>
  <div class="form-container">
    <label for="date-filter">End date</label>
    <input
      type="date"
      id="date-filter"
      class="form-control"
      [min]="minDate"
      (change)="setDateFilters($event, 'end')" />
  </div>
  <button type="button" class="btn" (click)="searchByFilters()">Search</button>

  <a [routerLink]="[routerLinks.productPanel]" class="btn create-btn">
    Create new product
  </a>
</aside>

<div class="list-container">
  @for (item of products$ | async; track item.id; let last = $last) {
    <a
      class="card"
      [routerLink]="[routerLinks.productPanel]"
      [queryParams]="{ id: item.id }">
      <img
        (appIntersectionListener)="loadMore(last)"
        class="card-image"
        height="300"
        width="200"
        priority
        [ngSrc]="item.images![0].previewUrl"
        alt="" />
      <div class="card-content">
        <h3>{{ item.name }}</h3>

        <time>{{ item.createdAt | date }}</time>
      </div>
    </a>
  } @empty {
    No data added yet
  }
</div>
